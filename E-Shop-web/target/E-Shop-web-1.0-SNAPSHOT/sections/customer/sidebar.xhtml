<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:f="http://xmlns.jcp.org/jsf/core">

    <div class="col-md-2">        
        <ul id="menu-v">
            <li>                      
                <h:form prependId="false" id="listCategories">
                    <h:commandLink value="" action="#{listCategoriesBean.navigate}"
                                   actionListener="#{listCategoriesBean.resetPaginator}" >
                        <span class="glyphicon glyphicon-tasks"></span>
                        <span>List all categories</span>                                
                    </h:commandLink>                    
                </h:form>
            </li>
            <li>
                <a href="#">
                    <span class="glyphicon glyphicon-tasks"></span>
                    <span>List all products by</span>
                </a>
                <ul class="sub">
                    <li>  
                        <h:form prependId="false" id="listProductsInVendor">                            
                            <h:selectOneMenu id="vendorInput" value="#{listProductsBean.selectedVendor.id}"                                                     
                                             class="form-control input-sm text-center"
                                             onchange="submit()"
                                             valueChangeListener="#{listProductsBean.loadProductsOfVendor}"
                                             title="Select a vendor">                                    
                                <f:selectItems value="#{sessionScope.vendorsList}" var="vendor" 
                                               itemLabel="#{vendor.name}" itemValue="#{vendor.id}" />
                            </h:selectOneMenu>
                        </h:form>
                    </li>
                    <li>                        
                        <h:form prependId="false" id="listProductsInCategory">                            
                            <h:selectOneMenu id="categoryInput" value="#{listProductsBean.selectedCategory.id}"                                                     
                                             class="form-control input-sm text-center"
                                             onchange="submit()"
                                             valueChangeListener="#{listProductsBean.loadProductsOfCategory}"
                                             title="Select a category">                                    
                                <f:selectItems value="#{sessionScope.categoriesList}" var="category" 
                                               itemLabel="#{category.name}" itemValue="#{category.id}" 
                                               />
                            </h:selectOneMenu>
                        </h:form>
                    </li>
                </ul>
            </li>
            <li>
                <a href="#">
                    <span class="glyphicon glyphicon-filter"></span>
                    <span>Sort products by</span>
                </a>
                <ul class="sub">
                    <h:form prependId="false" id="sortProducts">
                        <li>
                            <h:commandLink value="" action="#{sortProductsBean.navigate}"
                                           actionListener="#{sortProductsBean.resetPaginator('name', 'asc')}">
                                <span>Name</span>
                                <span class="glyphicon glyphicon-sort-by-alphabet"></span>
                            </h:commandLink>
                        </li>
                        <li>
                            <h:commandLink value="" action="#{sortProductsBean.navigate}"
                                           actionListener="#{sortProductsBean.resetPaginator('name', 'desc')}">
                                <span>Name</span>
                                <span class="glyphicon glyphicon-sort-by-alphabet-alt"></span>
                            </h:commandLink>
                        </li>
                        <li>
                            <h:commandLink value="" action="#{sortProductsBean.navigate}"
                                           actionListener="#{sortProductsBean.resetPaginator('price', 'asc')}">
                                <span>Price</span>
                                <span class="glyphicon glyphicon-sort-by-alphabet"></span>
                            </h:commandLink>
                        </li>
                        <li>
                            <h:commandLink value="" action="#{sortProductsBean.navigate}"
                                           actionListener="#{sortProductsBean.resetPaginator('price', 'desc')}">
                                <span>Price</span>
                                <span class="glyphicon glyphicon-sort-by-alphabet-alt"></span>
                            </h:commandLink>
                        </li>		            		           
                    </h:form>

                </ul>
            </li>		    
            <li>
                <a href="#">
                    <span class="glyphicon glyphicon-search"></span>
                    <span>Find a product</span>
                </a>
                <ul class="sub">
                    <li>
                        <h:form class="searchForm" prependId="false" id="searchProduct"> 
                            <h:panelGrid  columns="2" >
                                <h:inputText class="form-control" a:placeholder="Search..."
                                             value="#{findProductBean.keyword}"/>                                                                    
                                <h:commandLink class="btn btn-primary" id="searchAction"
                                               action="#{findProductBean.navigate}"
                                               actionListener="#{findProductBean.resetPaginator}">
                                    <span class="glyphicon glyphicon-search"></span>
                                </h:commandLink>                            
                            </h:panelGrid>
                        </h:form> 

                    </li>		            
                </ul>
            </li>
            <li>
                <h:form prependId="false" id="favoriteProducts">
                    <h:commandLink value="" action="#{favoriteProductsListBean.navigate}"
                                   actionListener="#{favoriteProductsListBean.resetPaginator}" >
                        <span class="glyphicon glyphicon-tasks"></span>
                        <span>View my favorite products</span>                                
                    </h:commandLink>                    
                </h:form>
            </li>
        </ul>       
    </div>
</ui:composition>


